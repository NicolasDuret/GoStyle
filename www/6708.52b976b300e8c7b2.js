"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6708],{6708:function(q,M,g){g.r(M),g.d(M,{startInputShims:function(){return Q}});var A=g(5861),K=g(7757),p=g.n(K),h=g(6499),P=new WeakMap,I=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;P.has(e)!==r&&(r?F(e,t,n):U(e,t))},O=function(e){return e===e.getRootNode().activeElement},F=function(e,t,r){var n=t.parentNode,a=t.cloneNode(!1);a.classList.add("cloned-input"),a.tabIndex=-1,n.appendChild(a),P.set(e,a);var i="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform="translate3d(".concat(i,"px,").concat(r,"px,0) scale(0)")},U=function(e,t){var r=P.get(e);r&&(P.delete(e),r.remove()),e.style.pointerEvents="",t.style.transform=""},x=function(e,t,r){if(!r||!t)return function(){};var n=function(s){O(t)&&I(e,t,s)},a=function(){return I(e,t,!1)},o=function(){return n(!0)},i=function(){return n(!1)};return(0,h.a)(r,"ionScrollStart",o),(0,h.a)(r,"ionScrollEnd",i),t.addEventListener("blur",a),function(){(0,h.b)(r,"ionScrollStart",o),(0,h.b)(r,"ionScrollEnd",i),t.addEventListener("ionBlur",a)}},T="input, textarea, [no-blur], [contenteditable]",W=function(e,t,r){var n=e.closest("ion-item,[ion-item]")||e;return j(n.getBoundingClientRect(),t.getBoundingClientRect(),r,e.ownerDocument.defaultView.innerHeight)},j=function(e,t,r,n){var a=e.top,o=e.bottom,i=t.top,s=i+15,f=.75*Math.min(t.bottom,n-r)-o,b=s-a,w=Math.round(f<0?-f:b>0?-b:0),d=Math.min(w,a-i),_=Math.abs(d);return{scrollAmount:d,scrollDuration:Math.min(400,Math.max(150,_/.3)),scrollPadding:r,inputSafeY:4-(a-s)}},Y=function(e,t,r,n,a){var o,i=function(l){o=(0,h.p)(l)},c=function(l){if(o){var f=(0,h.p)(l);!Z(6,o,f)&&!O(t)&&(l.stopPropagation(),$(e,t,r,n,a))}};return e.addEventListener("touchstart",i,!0),e.addEventListener("touchend",c,!0),function(){e.removeEventListener("touchstart",i,!0),e.removeEventListener("touchend",c,!0)}},$=function(){var v=(0,A.Z)(p().mark(function e(t,r,n,a,o){var i,c,s,l,f;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n||a){d.next=2;break}return d.abrupt("return");case 2:if(i=W(t,n||a,o),!(n&&Math.abs(i.scrollAmount)<4)){d.next=6;break}return r.focus(),d.abrupt("return");case 6:if(I(t,r,!0,i.inputSafeY),r.focus(),(0,h.r)(function(){return t.click()}),"undefined"==typeof window){d.next=22;break}if(s=function(){var _=(0,A.Z)(p().mark(function S(){return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==c&&clearTimeout(c),window.removeEventListener("ionKeyboardDidShow",l),window.removeEventListener("ionKeyboardDidShow",s),!n){u.next=6;break}return u.next=6,n.scrollByPoint(0,i.scrollAmount,i.scrollDuration);case 6:I(t,r,!1,i.inputSafeY),r.focus();case 8:case"end":return u.stop()}},S)}));return function(){return _.apply(this,arguments)}}(),l=function _(){window.removeEventListener("ionKeyboardDidShow",_),window.addEventListener("ionKeyboardDidShow",s)},!n){d.next=21;break}return d.next=15,n.getScrollElement();case 15:if(!(i.scrollAmount>(f=d.sent).scrollHeight-f.clientHeight-f.scrollTop)){d.next=21;break}return"password"===r.type?(i.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",l)):window.addEventListener("ionKeyboardDidShow",s),c=setTimeout(s,1e3),d.abrupt("return");case 21:s();case 22:case"end":return d.stop()}},e)}));return function(t,r,n,a,o){return v.apply(this,arguments)}}(),Z=function(e,t,r){if(t&&r){var n=t.x-r.x,a=t.y-r.y;return n*n+a*a>e*e}return!1},k="$ionPaddingTimer",E=function(e,t){if(!("INPUT"!==e.tagName||e.parentElement&&"ION-INPUT"===e.parentElement.tagName||e.parentElement&&e.parentElement.parentElement&&"ION-SEARCHBAR"===e.parentElement.parentElement.tagName)){var r=e.closest("ion-content");if(null!==r){var n=r[k];n&&clearTimeout(n),t>0?r.style.setProperty("--keyboard-offset","".concat(t,"px")):r[k]=setTimeout(function(){r.style.setProperty("--keyboard-offset","0px")},120)}}},Q=function(e){var t=document,r=e.getNumber("keyboardHeight",290),n=e.getBoolean("scrollAssist",!0),a=e.getBoolean("hideCaretOnScroll",!0),o=e.getBoolean("inputBlurring",!0),i=e.getBoolean("scrollPadding",!0),c=Array.from(t.querySelectorAll("ion-input, ion-textarea")),s=new WeakMap,l=new WeakMap,f=function(){var S=(0,A.Z)(p().mark(function m(u){var y,C,D,B,N,R;return p().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,new Promise(function(X){return(0,h.c)(u,X)});case 2:if(C=(y=u.shadowRoot||u).querySelector("input")||y.querySelector("textarea"),D=u.closest("ion-content"),B=D?null:u.closest("ion-footer"),C){L.next=8;break}return L.abrupt("return");case 8:!!D&&a&&!s.has(u)&&(N=x(u,C,D),s.set(u,N)),(D||B)&&n&&!l.has(u)&&(R=Y(u,C,D,B,r),l.set(u,R));case 10:case"end":return L.stop()}},m)}));return function(u){return S.apply(this,arguments)}}();o&&function(){var e=!0,t=!1,r=document;(0,h.a)(r,"ionScrollStart",function(){t=!0}),r.addEventListener("focusin",function(){e=!0},!0),r.addEventListener("touchend",function(c){if(t)t=!1;else{var s=r.activeElement;if(s&&!s.matches(T)){var l=c.target;l!==s&&(l.matches(T)||l.closest(T)||(e=!1,setTimeout(function(){e||s.blur()},50)))}}},!1)}(),i&&function(e){var t=document;t.addEventListener("focusin",function(o){E(o.target,e)}),t.addEventListener("focusout",function(o){E(o.target,0)})}(r);for(var w=0,d=c;w<d.length;w++)f(d[w]);t.addEventListener("ionInputDidLoad",function(S){f(S.detail)}),t.addEventListener("ionInputDidUnload",function(S){!function(m){if(a){var u=s.get(m);u&&u(),s.delete(m)}if(n){var y=l.get(m);y&&y(),l.delete(m)}}(S.detail)})}}}]);