{"ast":null,"code":"import _classCallCheck from \"/Users/nicolasduret/Desktop/CODE/EPSI/Gostyle last/GoStyle/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/nicolasduret/Desktop/CODE/EPSI/Gostyle last/GoStyle/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic-native/in-app-browser/ngx\";\nimport * as i2 from \"@ionic-native/qr-scanner/ngx\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"angularx-qrcode\";\n\nfunction Scan_ion_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 4);\n    i0.ɵɵlistener(\"click\", function Scan_ion_button_5_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      var ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.closeCamera();\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 5);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction Scan_ion_icon_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 6);\n  }\n}\n\nfunction Scan_div_8_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 10);\n    i0.ɵɵlistener(\"click\", function Scan_div_8_ion_item_1_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      var ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.openLink(ctx_r7.textScanned);\n    });\n    i0.ɵɵelementStart(1, \"ion-label\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Texte du QR Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵelementStart(5, \"b\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"ion-icon\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r6.textScanned);\n  }\n}\n\nfunction Scan_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, Scan_div_8_ion_item_1_Template, 8, 1, \"ion-item\", 7);\n    i0.ɵɵelementStart(2, \"ion-button\", 8);\n    i0.ɵɵlistener(\"click\", function Scan_div_8_Template_ion_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r10);\n      var ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.scanCode();\n    });\n    i0.ɵɵelement(3, \"ion-icon\", 9);\n    i0.ɵɵtext(4, \" Scanner un QR Code \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.textScanned);\n  }\n}\n\nfunction Scan_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"qrcode\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"qrdata\", ctx_r11.myAngularxQrCode)(\"size\", 250)(\"level\", \"M\");\n  }\n}\n\nfunction Scan_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, Scan_div_9_div_1_Template, 2, 3, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.myAngularxQrCode);\n  }\n}\n\nexport var Scan = /*#__PURE__*/(function () {\n  var Scan = /*#__PURE__*/function () {\n    function Scan(iab, qrScanner) {\n      _classCallCheck(this, Scan);\n\n      this.iab = iab;\n      this.qrScanner = qrScanner;\n      this.myAngularxQrCode = null;\n      this.showCamera = false;\n      this.textScanned = '';\n    }\n\n    _createClass(Scan, [{\n      key: \"createQRCode\",\n      value: function createQRCode() {\n        this.myAngularxQrCode = this.textToCode;\n        this.textToCode = \"\";\n      }\n    }, {\n      key: \"openLink\",\n      value: function openLink(link) {\n        var browser = this.iab.create(link, '_system', 'location=yes');\n      }\n    }, {\n      key: \"scanCode\",\n      value: function scanCode() {\n        var _this = this;\n\n        this.showCamera = true; // Optionally request the permission early\n\n        this.qrScanner.prepare().then(function (status) {\n          if (status.authorized) {\n            // start scanning\n            console.log('Scan en cours...' + JSON.stringify(status));\n\n            var scanSub = _this.qrScanner.scan().subscribe(function (text) {\n              console.log('Scanned something', text.result);\n              _this.textScanned = text.result;\n\n              _this.qrScanner.hide(); // hide camera preview\n\n\n              scanSub.unsubscribe(); // stop scanning\n\n              _this.showCamera = false;\n            });\n          } else if (status.denied) {// camera permission was permanently denied\n          } else {// permission was denied, but not permanently. You can ask for permission again at a later time.\n          }\n        }).catch(function (e) {\n          return console.log('Error is', e);\n        });\n      }\n    }, {\n      key: \"closeCamera\",\n      value: function closeCamera() {\n        this.showCamera = false;\n        this.qrScanner.hide(); // hide camera preview\n\n        this.qrScanner.destroy();\n      }\n    }]);\n\n    return Scan;\n  }();\n\n  Scan.ɵfac = function Scan_Factory(t) {\n    return new (t || Scan)(i0.ɵɵdirectiveInject(i1.InAppBrowser), i0.ɵɵdirectiveInject(i2.QRScanner));\n  };\n\n  Scan.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Scan,\n    selectors: [[\"app-scan\"]],\n    decls: 10,\n    vars: 4,\n    consts: [[\"slot\", \"end\"], [3, \"click\", 4, \"ngIf\"], [\"class\", \"frame\", \"name\", \"qr-scanner\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"click\"], [\"name\", \"close\"], [\"name\", \"qr-scanner\", 1, \"frame\"], [\"lines\", \"none\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", 3, \"click\"], [\"slot\", \"start\", \"name\", \"qr-scanner\"], [\"lines\", \"none\", 3, \"click\"], [\"slot\", \"end\", \"name\", \"open\"], [\"class\", \"center\", 4, \"ngIf\"], [1, \"center\"], [3, \"qrdata\", \"size\", \"level\"]],\n    template: function Scan_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\");\n        i0.ɵɵelementStart(1, \"ion-toolbar\");\n        i0.ɵɵelementStart(2, \"ion-title\");\n        i0.ɵɵtext(3, \" Scan \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 0);\n        i0.ɵɵtemplate(5, Scan_ion_button_5_Template, 2, 0, \"ion-button\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-content\");\n        i0.ɵɵtemplate(7, Scan_ion_icon_7_Template, 1, 0, \"ion-icon\", 2);\n        i0.ɵɵtemplate(8, Scan_div_8_Template, 5, 1, \"div\", 3);\n        i0.ɵɵtemplate(9, Scan_div_9_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.showCamera);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showCamera);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showCamera);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showCamera);\n      }\n    },\n    directives: [i3.IonHeader, i3.IonToolbar, i3.IonTitle, i3.IonButtons, i4.NgIf, i3.IonContent, i3.IonButton, i3.IonIcon, i3.IonItem, i3.IonLabel, i5.QRCodeComponent],\n    styles: [\"#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:250px}ion-content[_ngcontent-%COMP%]{--ion-background-color: transparent}.frame[_ngcontent-%COMP%]{color:#d5d5d5;height:350px;width:350px;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto}\"]\n  });\n  return Scan;\n})();","map":null,"metadata":{},"sourceType":"module"}