{"ast":null,"code":"import _classCallCheck from \"/Users/nicolasduret/Desktop/CODE/EPSI/Gostyle last/GoStyle/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/nicolasduret/Desktop/CODE/EPSI/Gostyle last/GoStyle/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\n\nvar Scan = /*#__PURE__*/function () {\n  function Scan(iab, qrScanner) {\n    _classCallCheck(this, Scan);\n\n    this.iab = iab;\n    this.qrScanner = qrScanner;\n    this.myAngularxQrCode = null;\n    this.showCamera = false;\n    this.textScanned = '';\n  }\n\n  _createClass(Scan, [{\n    key: \"createQRCode\",\n    value: function createQRCode() {\n      this.myAngularxQrCode = this.textToCode;\n      this.textToCode = \"\";\n    }\n  }, {\n    key: \"openLink\",\n    value: function openLink(link) {\n      var browser = this.iab.create(link, '_system', 'location=yes');\n    }\n  }, {\n    key: \"scanCode\",\n    value: function scanCode() {\n      var _this = this;\n\n      this.showCamera = true; // Optionally request the permission early\n\n      this.qrScanner.prepare().then(function (status) {\n        if (status.authorized) {\n          // start scanning\n          console.log('Scan en cours...' + JSON.stringify(status));\n\n          var scanSub = _this.qrScanner.scan().subscribe(function (text) {\n            console.log('Scanned something', text.result);\n            _this.textScanned = text.result;\n\n            _this.qrScanner.hide(); // hide camera preview\n\n\n            scanSub.unsubscribe(); // stop scanning\n\n            _this.showCamera = false;\n          });\n        } else if (status.denied) {// camera permission was permanently denied\n        } else {// permission was denied, but not permanently. You can ask for permission again at a later time.\n        }\n      }).catch(function (e) {\n        return console.log('Error is', e);\n      });\n    }\n  }, {\n    key: \"closeCamera\",\n    value: function closeCamera() {\n      this.showCamera = false;\n      this.qrScanner.hide(); // hide camera preview\n\n      this.qrScanner.destroy();\n    }\n  }]);\n\n  return Scan;\n}();\n\nScan = __decorate([Component({\n  selector: 'app-scan',\n  templateUrl: 'scan.page.html',\n  styleUrls: ['scan.page.scss']\n})], Scan);\nexport { Scan };","map":null,"metadata":{},"sourceType":"module"}